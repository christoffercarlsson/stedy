use criterion::Criterion;
use stedy::{sss_combine, sss_split};

pub fn bench(c: &mut Criterion) {
    let seed = [0u8; 32];
    let secret = [
        119, 7, 109, 10, 115, 24, 165, 125, 60, 22, 193, 114, 81, 178, 102, 69, 223, 76, 47, 135,
        235, 192, 153, 42, 177, 119, 251, 165, 29, 185, 44, 42,
    ];
    let shares = [
        [
            0, 0, 0, 1, 89, 120, 232, 192, 149, 146, 67, 122, 25, 69, 104, 127, 116, 49, 115, 78,
            51, 176, 74, 208, 136, 252, 117, 142, 98, 39, 172, 191, 69, 17, 133, 113, 11, 34, 108,
            66, 145, 34, 251, 234, 207, 108, 240, 160, 166, 185, 191, 127, 95, 207, 30, 34, 208,
            140, 15, 252, 220, 146, 91, 91, 8, 191, 221, 50, 74, 11, 132, 242, 125, 97, 36, 95,
            124, 34, 37, 225, 189, 228, 240, 181, 115, 54, 242, 125, 57, 4, 76, 200, 11, 122, 179,
            105, 125, 45, 246, 3, 10, 246, 147, 9, 130, 83, 251, 213, 149, 70, 113, 120, 87, 13,
            53, 246,
        ],
        [
            0, 0, 0, 2, 85, 56, 240, 211, 138, 51, 73, 100, 242, 44, 102, 25, 149, 220, 40, 116,
            169, 141, 123, 232, 112, 107, 254, 1, 29, 24, 105, 178, 255, 170, 252, 27, 11, 34, 108,
            66, 145, 34, 251, 234, 207, 108, 240, 160, 166, 185, 191, 127, 95, 207, 30, 34, 208,
            140, 15, 252, 220, 146, 91, 91, 8, 191, 221, 50, 37, 126, 133, 164, 100, 4, 124, 87,
            244, 172, 253, 123, 96, 4, 201, 196, 201, 93, 26, 253, 117, 204, 120, 190, 234, 200,
            114, 130, 230, 11, 40, 68, 220, 216, 228, 23, 110, 149, 165, 212, 19, 100, 144, 87,
            189, 59, 27, 160,
        ],
        [
            0, 0, 0, 3, 62, 248, 247, 230, 127, 212, 78, 78, 203, 20, 100, 179, 181, 135, 222, 153,
            31, 107, 172, 0, 89, 218, 134, 117, 215, 8, 38, 165, 185, 68, 116, 70, 11, 34, 108, 66,
            145, 34, 251, 234, 207, 108, 240, 160, 166, 185, 191, 127, 95, 207, 30, 34, 208, 140,
            15, 252, 220, 146, 91, 91, 8, 191, 221, 50, 94, 212, 252, 172, 89, 120, 148, 33, 215,
            78, 34, 89, 122, 249, 68, 109, 191, 122, 145, 48, 117, 19, 180, 60, 55, 143, 170, 42,
            76, 112, 99, 36, 24, 183, 215, 60, 151, 211, 61, 93, 74, 229, 30, 101, 7, 198, 157,
            132,
        ],
    ];

    c.bench_function("sss_split", |b| b.iter(|| sss_split::<6, 3>(seed, &secret)));

    c.bench_function("sss_combine", |b| b.iter(|| sss_combine(&shares)));
}
