use criterion::Criterion;
use stedy::{sss_combine, sss_split};

pub fn bench(c: &mut Criterion) {
    let secret = [
        119, 7, 109, 10, 115, 24, 165, 125, 60, 22, 193, 114, 81, 178, 102, 69, 223, 76, 47, 135,
        235, 192, 153, 42, 177, 119, 251, 165, 29, 185, 44, 42,
    ];
    let shares = [
        [
            0, 0, 0, 1, 34, 219, 170, 227, 228, 211, 155, 247, 167, 96, 15, 154, 141, 239, 109, 52,
            43, 2, 11, 167, 49, 3, 73, 204, 69, 72, 51, 57, 207, 177, 30, 108,
        ],
        [
            0, 0, 0, 2, 188, 221, 1, 229, 128, 165, 24, 198, 49, 189, 153, 27, 204, 213, 207, 40,
            87, 244, 43, 138, 78, 48, 108, 209, 56, 102, 168, 221, 122, 154, 49, 95,
        ],
        [
            0, 0, 0, 3, 86, 224, 88, 230, 28, 119, 149, 148, 187, 25, 36, 157, 10, 188, 49, 29,
            131, 230, 76, 109, 107, 93, 143, 214, 43, 132, 29, 130, 38, 131, 68, 82,
        ],
    ];

    c.bench_function("sss_split", |b| b.iter(|| sss_split::<6, 3>(&secret)));

    c.bench_function("sss_combine", |b| b.iter(|| sss_combine(&shares)));
}
